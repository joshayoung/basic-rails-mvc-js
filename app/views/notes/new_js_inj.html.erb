 <h1>Add Note with JS</h1>

<a href='' id='link'>Load Form</a>

<form novalidate="novalidate" class="simple_form new_note" id="new_note_js_injp" action="/notes" accept-charset="UTF-8" method="post"><fieldset><legend>Existing Form</legend> <input name="utf8" type="hidden" value="&#x2713;" /> <div class="input string required note_subject"> <label class="string required" for="note_subject"><abbr title="required">*</abbr> Subject</label> <input class="string required" type="text" name="note[subject]" id="note_subject" /> </div> <div class="input string required note_body"> <label class="string required" for="note_body"><abbr title="required">*</abbr> Body</label> <input class="string required" type="text" name="note[body]" id="note_body" /> </div> <input type="submit" name="commit" value="Create Note" class="btn" data-disable-with="Create Note" /></fieldset> </form>
<div id="addform"></div>


<script>
$( "#link" ).click(function(e) {
  e.preventDefault();
  var form = ' <form novalidate="novalidate" class="simple_form new_note" id="new_note_js_inj" action="/notes" accept-charset="UTF-8" method="post"> <input name="utf8" type="hidden" value="&#x2713;" /> <div class="input string required note_subject"> <label class="string required" for="note_subject"><abbr title="required">*</abbr> Subject</label> <input class="string required" type="text" name="note[subject]" id="note_subject" /> </div> <div class="input string required note_body"> <label class="string required" for="note_body"><abbr title="required">*</abbr> Body</label> <input class="string required" type="text" name="note[body]" id="note_body" /> </div> <input type="submit" name="commit" value="Create Note" class="btn" data-disable-with="Create Note" /> </form>';
  $("#addform").append(form);
  $( "#new_note_js_inj" ).submit(function(e) {
    e.preventDefault();
    $.ajax({
      url: '/notes',
      data: $(this).serialize(),
      error: function() {
        debugger;
      },
      dataType: 'json',
      success: function(data) {
      },
      type: 'POST'
    });
  });
});
</script>